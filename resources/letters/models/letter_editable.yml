allOf:
  - $ref: "letter_base.yml"
  - $ref: "../../../shared/models/form_factor/input_to.yml"
  - $ref: "../../../shared/models/form_factor/input_from.yml"

  - type: object

    required:
      - to
      - from
      - file

    properties:
      file:
        description: >-
          Notes:

          - HTML merge variables should not include delimiting whitespace.

          - All pages of a supplied PDF file must be sized at 8.5"x11",
          while supplied HTML will be rendered and trimmed to as many 8.5"x11" pages
          as necessary.

          - For design specifications, please see our
          [PDF](https://s3-us-west-2.amazonaws.com/public.lob.com/assets/templates/letter_template.pdf)
          and [HTML](#tag/HTML-Examples) templates.

          - If a `custom_envelope` is used, follow
          [this template](https://s3-us-west-2.amazonaws.com/public.lob.com/assets/templates/letter_custom_envelope.pdf).

          - For domestic destinations, the file limit is 60 pages single-sided or 120
          pages double-sided. For international destinations, the file limit is 6
          pages single-sided or 12 pages double-sided. PDFs that surpass the file
          limit will error, while HTML that renders more pages than the file limit
          will be trimmed.

          - Any letters over 6
          pages single-sided or 12 pages double-sided will be placed in a
          [flat envelope](https://s3-us-west-2.amazonaws.com/public.lob.com/assets/templates/letter_flat_template.pdf) instead of the standard double window envelope.


          See [pricing](https://lob.com/pricing/print-mail#compare) for extra costs incurred.

        oneOf:
          - $ref: "../../../shared/attributes/html_string.yml"
          - $ref: "../../../shared/attributes/model_ids/tmpl_id.yml"
          - $ref: "../../../shared/attributes/remote_file_url.yml"
          - type: string
            pattern: "^(?!https://)[a-zA-Z0-9@:%._+~#=/]{1,256}.(html?|pdf)$"

      extra_service:
        $ref: "../../../shared/attributes/letter_extra_service.yml"
