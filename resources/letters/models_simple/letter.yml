type: object
properties:
  return_address:
    $ref: "../attributes/return_address.yml"

  extra_service:
    type: string
    enum:
      - certified
      - certified_return_receipt
      - registered
    description: |
      Add an extra service to your letter. See [pricing](https://www.lob.com/pricing/print-mail#compare) for extra costs incurred.
        * `certified` - track and confirm delivery for domestic destinations. An extra sheet (1 PDF page single-sided or 2 PDF pages double-sided) is added to the beginning of your letter for address and barcode information. See here for templates: [#10 envelope](https://s3-us-west-2.amazonaws.com/public.lob.com/assets/templates/letter_certified_template.pdf) and [flat envelope](https://s3-us-west-2.amazonaws.com/public.lob.com/assets/templates/letter_certified_flat_template.pdf) (used for letters over 6 pages single-sided or 12 pages double-sided). You will not be charged for this extra sheet.
        * `certified_return_receipt` - request an electronic copy of the recipient's signature to prove delivery of your certified letter

  tracking_number:
    type: string
    description: >-
      The tracking number will be here immediately upon creation.

      Dummy tracking numbers are created in test mode.
    nullable: true

  tracking_events:
    description: >-
      An array of certified tracking events ordered by ascending `time`. Not populated in test mode.
    type: array
    items:
      $ref: "../../../shared/resources/tracking_events/models/tracking_event_certified.yml"

  cards:
    description: An array of cards associated with a specific letter
    type: array
    items:
      $ref: "../../cards/models/card.yml"
    nullable: true

  mail_type:
    $ref: "../../../shared/attributes/mail_type.yml"

  color:
    type: boolean
    description: >-
      Set this key to `true` if you would like to print in color.
      Set to `false` if you would like to print in black and white.

  double_sided:
    type: boolean
    description: >-
      Set this attribute to `true` for double sided printing, or `false` for
      for single sided printing. Defaults to `true`.
    default: true

  address_placement:
    type: string
    enum:
      - top_first_page
      - insert_blank_page
      - bottom_first_page_center
      - bottom_first_page
    description: |
      Specifies the location of the address information that will show through the double-window envelope. To see how this will impact your letter design, view our letter template.
        * `top_first_page` - (default) print address information at the top of your provided first page
        * `insert_blank_page` - insert a blank address page at the beginning of your file (you will be charged for the extra page)
        * `bottom_first_page_center` - **(deprecation planned within a few months)** print address information at the bottom center of your provided first page
        * `bottom_first_page` - print address information at the bottom of your provided first page
    default: top_first_page

  return_envelope:
    type: string
    description: >-
      Indicates if a return envelope is requested for the letter.
      The value corresponding to this field is by default a boolean.
      But if the account is signed up for custom return envelopes,
      the value is of type string and is `no_9_single_window` for
      a standard return envelope and a custom `return_envelope_id`
      for non-standard return envelopes.


      To include a return envelope with your letter, set to `true` and specify
      the `perforated_page`. See
      [pricing](https://www.lob.com/pricing/print-mail#compare) for extra costs
      incurred.
    default: false

  perforated_page:
    type: integer
    description: >-
      Required if `return_envelope` is `true`. The number of the page that should be
      perforated for use with the return envelope. Must be greater than or equal
      to `1`. The blank page added by `address_placement=insert_blank_page` will be
      ignored when considering the perforated page number. To see how
      perforation will impact your letter design, view our [perforation guide](https://s3-us-west-2.amazonaws.com/public.lob.com/assets/templates/letter_perf_template.pdf).
    nullable: true

  description:
    $ref: "../../../shared/attributes/resource_description.yml"

  metadata:
    $ref: "../../../shared/models/metadata.yml"

  merge_variables:
    $ref: "../../../shared/models/merge_variables.yml"

  send_date:
    $ref: "../../../shared/attributes/send_date.yml"

  from:
    $ref: "../../../shared/models_simple/address/address.yml"

  to:
    $ref: "../../../shared/models_simple/address/address.yml"

  carrier:
    type: string
    enum:
      - USPS
    default: USPS

  thumbnails:
    type: array
    items:
      $ref: "../../../shared/models/thumbnail.yml"

  expected_delivery_date:
    $ref: "../../../shared/attributes/expected_delivery_date.yml"

  date_created:
    type: string
    format: date-time
    description: A timestamp in ISO 8601 format of the date the resource was created.

  date_modified:
    type: string
    format: date-time
    description: A timestamp in ISO 8601 format of the date the resource was last modified.

  date_deleted:
    type: string
    format: date-time
    description: A timestamp in ISO 8601 format of the date the resource was deleted.

  deleted:
    $ref: "../../../shared/attributes/deleted.yml"
