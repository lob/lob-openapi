allOf:
  - $ref: "tracking_event_base.yml"

  - type: object

    required:
      - type
      - name

    properties:
      type:
        description: non-Certified postcards, self mailers, letters, and checks
        type: string
        enum:
          - normal

      name:
        type: string
        enum:
          - In Transit
          - In Local Area
          - Processed for Delivery
          - Re-Routed
          - Returned to Sender
          - Mailed
        description: >
          Name of tracking event (for normal postcards, self mailers, letters, and checks):

            * `In Transit` - The mailpiece is being processed at the entry/origin facility.

            * `In Local Area` - The mailpiece is being processed at the destination facility.

            * `Processed for Delivery` - The mailpiece has been greenlit for
              delivery at the recipient's nearest postal facility. The mailpiece
              should reach the mailbox within 1 business day of this tracking
              event.

            * `Re-Routed` - The mailpiece is re-routed due to recipient change of
              address, address errors, or USPS relabeling of barcode/ID tag
              area.

            * `Returned to Sender` - The mailpiece is being returned to sender due
              to barcode, ID tag area, or address errors.

            * `Mailed` - The mailpiece has been handed off to and accepted by USPS
              and is en route. <a href="https://help.lob.com/print_mail/mail-data-tracking?from_search=85693657#mail-tracking-events" target="_blank">More about
              Mailed.</a>
              Note this data is only available in Enterprise editions of
              Lob. <a href="https://lob.com/support/contact#contact" target="_blank">Contact Sales</a> if
              you want access to this feature.

          <a href="https://help.lob.com/print_mail/mail-data-tracking?from_search=85693657#what-is-mail-tracking" target="_blank">More about tracking</a>

      details:
        description: Will be `null` for `type=normal` events
        type: object
        enum:
          - null
        nullable: true

      location:
        type: string
        description: >
          The zip code in which the scan event occurred. Null for `Mailed` events.
        nullable: true
